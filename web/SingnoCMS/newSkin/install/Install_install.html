<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>欢迎使用Singno CMS</title>
<link href="../css/Base.css" rel="stylesheet" type="text/css" />
<link href="install.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="head"><img src="Images/install_logo.gif" alt="" /></div>
<div id="main">
	<div class="title">
		<div class="left"></div>
		<div id="nav" class="center">
			<ul>
				<li class="curr">安装许可</li>
				<li>环境检测</li>
				<li>站点配置</li>
				<li>数据库设置</li>
				<li>帐号设置</li>
				<li>安装信息</li>
				<li>安装完成</li>
			</ul>
		</div>
		<div class="right"></div>
	</div>
	<div class="list">
		<div class="line"><div id="line" class="a"></div></div>
		<form id="form1" method="post" action="option/M_option_siteAction.aspx?action=add">
		<div id="content">
			<ul>
				<li class="show">
					<div id="copyright" class="contains">
						版权所有 (c) 2005-2009，郑州仙诺信息科技有限公司保留所有权利。 <br />
						感谢您选择SingnoCMS产品。希望我们的努力能为您提供一个高效快速和强大的网站解决方案。 <br />
						SingnoCMS全称为 SingnoCMS网站管理系统。 <br />
						SingnoCMS网站管理系统的官方网站为 http://cms.Singno.com，是SingnoCMS产品的开发商，依法独立拥有SingnoCMS产品著作权。<br />
						SingnoCMS 著作权受到法律和国际公约保护。使用者：无论个人或组织、盈利与否、用途如何（包括以学习和研究为目的），均需仔细阅读本协议，在理解、同意、并遵守本协议的全部条款后，方可开始使用SingnoCMS软件。 <br />
						本授权协议适用且仅适用于SingnoCMS v1.0_beta版本，郑州仙诺信息科技有限公司拥有对本授权协议的最终解释权。 <br /><br />
						
						协议许可的权利 <br /><br />
						
						您可以在完全遵守本最终用户授权协议的基础上，将本软件应用于非商业用途，而不必支付软件版权授权费用。 <br />
						您可以在协议规定的约束和限制范围内修改SingnoCMS源代码(如果被提供的话)或界面风格以适应您的网站要求。 <br />
						您拥有使用本软件构建的网站中全部会员资料、文章及相关信息的所有权，并独立承担与文章内容的相关法律义务。 <br />
						获得商业授权之后，您可以将本软件应用于商业用途，同时依据所购买的授权类型中确定的技术支持期限、技术支持方式和技术支持内容，自购买时刻起，在技术支持期限内拥有通过指定的方式获得指定范围内的技术支持服务。商业授权用户享有反映和提出意见的权力，相关意见将被作为首要考虑，但没有一定被采纳的承诺或保证。 <br /><br />
						
						协议规定的约束和限制 <br /><br />
						
						未获商业授权之前，不得将本软件用于商业用途（包括但不限于企业网站、经营性网站、以营利为目或实现盈利的网站）。购买商业授权请登陆http://cms.Singno.com参考相关说明。 <br />
						不得对本软件或与之关联的商业授权进行出租、出售、抵押或发放子许可证。 <br />
						无论如何，即无论用途如何、是否经过修改或美化、修改程度如何，只要使用SingnoCMS的整体或任何部分，未经书面许可，网站页面页脚处的SingnoCMS名称和 http://cms.Singno.com 的链接都必须保留，而不能清除或修改，除非您获得北京酷溜网信息技术有限公司授权许可。 <br />
						禁止在SingnoCMS的整体或任何部分基础上以发展任何派生版本、修改版本或第三方版本用于重新分发。 <br />
						如果您未能遵守本协议的条款，您的授权将被终止，所被许可的权利将被收回，并承担相应法律责任。 <br /><br />
						
						有限担保和免责声明 <br /><br />
						
						本软件及所附带的文件是作为不提供任何明确的或隐含的赔偿或担保的形式提供的。 <br />
						用户出于自愿而使用本软件，您必须了解使用本软件的风险，在尚未购买产品技术服务之前，我们不承诺提供任何形式的技术支持、使用担保，也不承担任何因使用本软件而产生问题的相关责任。 <br />
						郑州仙诺信息科技有限公司不对使用本软件构建的网站中的文章或信息承担责任。 <br />
						有关SingnoCMS最终用户授权协议、商业授权与技术服务的详细内容，均由SingnoCMS官方网站独家提供。郑州仙诺信息科技有限公司拥有在不事先通知的情况下，修改授权协议和服务价目表的权力，修改后的协议或价目表对自改变之日起的新授权用户生效。 <br /><br />
						
						电子文本形式的授权协议如同双方书面签署的协议一样，具有完全的和等同的法律效力。您一旦开始安装SingnoCMS，即被视为完全理解并接受本协议的各项条款，在享有上述条款授予的权力的同时，受到相关的约束和限制。协议许可范围以外的行为，将直接违反本授权协议并构成侵权，我们有权随时终止授权，责令停止损害，并保留追究相关责任的权力。
					</div>
					<div class="button"><input type="button" value="接受" onclick="goto(1,2)" /></div>
				</li>
				<li class="hide">
					<div class="contains" id="checkClient">
						<table cellpadding="0" cellspacing="0">
							<thead>
								<tr>
									<td width="25%">检查项目</td>
									<td width="25%">当前环境</td>
									<td width="25%">建议环境</td>
									<td width="25%">功能影响</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>操作系统</td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<td>浏览器</td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<td>显示</td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="button">
						<input type="button" value="上一步" onclick="goto(2,1)" />
						<input type="button" value="下一步" onclick="goto(2,3)" />
					</div>
				</li>
				<li class="hide">
					<div class="contains" id="site">
						<table class="forms">
							<tbody>
								<tr>
									<td width="120px" align="right">站点名称：</td>
									<td><input type="text" name="siteName" id="siteName" /></td>
								</tr>
								<tr>
									<td align="right">文件夹名称：</td>
									<td><input type="text" name="dirName" id="dirName" /></td>
								</tr>
								<tr>
									<td align="right">网页编码：</td>
									<td>
										<select id="Charset" name="Charset">
											<option value="utf-8" selected="selected">Unicode(UTF-8)</option>
											<option value="gb2312">简体中文(GB2312)</option>
											<option value="big5">繁体中文(Big5)</option>
											<option value="iso-8859-1">西欧(iso-8859-1)</option>
											<option value="euc-kr">韩文(euc-kr)</option>
											<option value="euc-jp">日文(euc-jp)</option>
											<option value="iso-8859-6">阿拉伯文(iso-8859-6)</option>
											<option value="windows-874">泰文(windows-874)</option>
											<option value="iso-8859-9">土耳其文(iso-8859-9)</option>
											<option value="iso-8859-5">西里尔文(iso-8859-5)</option>
											<option value="iso-8859-8">希伯来文(iso-8859-8)</option>
											<option value="iso-8859-7">希腊文(iso-8859-7)</option>
											<option value="windows-1258">越南文(windows-1258)</option>
											<option value="iso-8859-2">中欧(iso-8859-2)</option>
										</select>
									</td>
								</tr>
								<tr>
									<td align="right">模型：</td>
									<td>
										<XNL:repeater sqlCommand="select ModelID,ModelName from SN_Model"  >
											<select id="modelId" name="modelId">
												<itemtemplate>
													<option value="{$ModelID}">{$ModelName}</option>
												</itemtemplate>
											</select>
											<emptyDataTemplate>还没有建立模型</emptyDataTemplate>
										</XNL:repeater>
									</td>
								</tr>
								<tr>
									<td align="right">内容审核机制：</td>
									<td>
										<span class="fl">
											<input type="radio" name="audit" id="audit1" value="0" checked="checked" /><label for="audit1">默认审核机制</label>
											<input type="radio" name="audit" id="audit2" value="1" /><label for="audit2">多级审核机制</label>
										</span>
										<span class="fl">
											<div id="checkLevelDiv"></div>
										</span>
									</td>
								</tr>
								<tr>
									<td align="right">是否使用模版：</td>
									<td>
										<input type="radio" name="userTemplate" id="userTemplate1" /><label for="userTemplate1">使用</label>
										<input type="radio" name="userTemplate" id="userTemplate2" checked="checked" /><label for="userTemplate2">不使用</label>
									</td>
								</tr>
								<tr id="selectTemplate" class="hide">
									<td align="right">模版选择：</td>
									<td>
										<input type="radio" name="template" id="template1" /><label for="template1">模版一</label>
										<input type="radio" name="template" id="template2" /><label for="template2">模版二</label>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="button">
						<input type="button" value="上一步" onclick="goto(3,2)" />
						<input type="button" value="下一步" onclick="goto(3,4)" />
					</div>
				</li>
				<li class="hide">
					<div class="contains" id="dataBase">
						<table class="forms">
							<tbody>
								<tr>
									<td width="120px" align="right">数据库主机：</td>
									<td><input type="text" name="" id="" /></td>
								</tr>
								<tr>
									<td align="right">数据库帐号：</td>
									<td><input type="text" name="" id="" /></td>
								</tr>
								<tr>
									<td align="right">数据库密码：</td>
									<td><input type="password" name="" id="" /></td>
								</tr>
								<tr>
									<td align="right">数据库名称</td>
									<td>
										<select name="" id="">
											<option value="">singnoCms</option>
										</select>
									</td>
								</tr>
								<tr>
									<td align="right">数据库字符集：</td>
									<td>
										<input type="radio" name="Char" id="Char1" checked="checked" /><label for="Char1">默认</label> 
										<input type="radio" name="Char" id="Char2" /><label for="Char2">GBK</label> 
										<input type="radio" name="Char" id="Char3" /><label for="Char3">UTF-8</label>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="button">
						<input type="button" value="上一步" onclick="goto(4,3)" />
						<input type="button" value="下一步" onclick="goto(4,5)" />
					</div>
				</li>
				<li class="hide">
					<div class="contains" id="manager">
						<table class="forms">
							<tbody>
								<tr>
									<td width="120px" align="right">超级管理员帐号：</td>
									<td><input type="text" name="" id="" /></td>
								</tr>
								<tr>
									<td align="right">管理员密码：</td>
									<td><input type="password" name="" id="" /></td>
								</tr>
								<tr>
									<td align="right">确认密码：</td>
									<td><input type="password" name="" id="" /></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="button">
						<input type="button" value="上一步" onclick="goto(5,4)" />
						<input type="button" value="下一步" onclick="goto(5,6)" />
					</div>
				</li>
				<li class="hide">
					<div class="contains" id="progress">
						正在安装...
					</div>
					<div class="button">
						<input type="button" value="上一步" onclick="goto(6,5)" />
						<input type="button" value="下一步" onclick="goto(6,7)" />
					</div>
				</li>
				<li class="hide">
					<div id="complate" class="contains">
						<img src="../Images/ok.png" alt="" /><br />
						<span>恭喜您！安装成功！</span><br /><br />
						<div class="button">
							<input type="button" value="进入后台" onclick="" />
						</div>
					</div>
				</li>
			</ul>
		</div>
		</form>
	</div>
</div>
<div id="bottom"><img src="Images/shadow_bottom.gif" alt="" /></div>

<script type="text/javascript" src="../JS/Sio.min.js"></script>
<script type="text/javascript" src="../JS/big_button.js"></script>
<script type="text/javascript">
Sio.Text();

var resultObj={
	isPass   : false,
	errorMsg : "",
	errorObj : null
}; 

/*文件夹名称验证函数*/
dirNameTest = function(isSetFocus){
	if(Sio.Tools.trim(this.value) == ''){
		resultObj.isPass = false;
		resultObj.errorMsg = "站点文件夹名称不能为空!";
		resultObj.errorObj = this;
		alert(resultObj.errorMsg);
		if(isSetFocus == true) resultObj.errorObj.focus();
		//KAlert({type: "false",mask: true,maskColor: "#000000",text: resultObj.errorMsg,animate:true,title:"错误"},function(){if(isSetFocus==true)resultObj.errorObj.focus();});
	}else{
	//格式是否正确
	var patrn=/^[A-Za-z0-9-_]+$/;   
	if (!patrn.test(this.value)){
		resultObj.isPass = false;
		resultObj.errorMsg = "站点文件夹名仅限于字母、数字、_-等字符!";
		resultObj.errorObj = this;
		alert(resultObj.errorMsg);
		if(isSetFocus == true) resultObj.errorObj.focus();
		//KAlert({type: "false",mask: true,maskColor: "#000000",text: resultObj.errorMsg,animate:true,title:"错误"},function(){if(isSetFocus==true)resultObj.errorObj.focus();});
		}
	}
}

/*站点名称验证函数*/
siteNameTest=function (isSetFocus)
{
	if(Sio.Tools.trim(this.value) == ''){
		resultObj.isPass = false;
		resultObj.errorMsg = "站点名称不能为空!";
		resultObj.errorObj = this;
		alert(resultObj.errorMsg);
		if(isSetFocus == true) resultObj.errorObj.focus();
		//KAlert({type: "false",mask: true,maskColor: "#000000",text: resultObj.errorMsg,	animate:true,title:"错误"},function(){if(isSetFocus==true)resultObj.errorObj.focus();});
	} 
}

//按钮处理进度事件
var _li = $i('content').children[0].children,
	_nav = $i('nav').children[0].children,
	_line = $i('line');

function goto(curr,to){
	_li[curr-1].className = 'hide';
	_li[to-1].className = 'show';
	Sio.Style.removeClass(_nav,'curr');
	_nav[to-1].className = 'curr';
	_line.className = 'a' + to;
}

//是否通过验证，错误信息，错误对像
Sio.Event.add(Sio.Dom.get('input[name=audit]'),'click',function(){
	$i('checkLevelDiv').innerHTML = ($i('audit1').checked) ? '' : '<div class=\"fl\"><select id=\"checkLevel\" name=\"checkLevel\"><option value=\"2\" selected=\"selected\">2<\/option><option value=\"3\">3<\/option><option value=\"4\">4<\/option><option value=\"5\">5<\/option><\/select> 级<\/div>';
});

//是否选择模版
Sio.Event.add(Sio.Dom.get('input[name=userTemplate]'),'click',function(){
	$i('selectTemplate').className = ($i('userTemplate1').checked) ? '' : 'hide';
});


</script>
</body>
</html>
